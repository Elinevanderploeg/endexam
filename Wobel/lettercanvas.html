<html>
	<head>
		<title>KABK - tekenen</title>
		<script type="text/javascript" src="jquery-1.8.3.js" ></script>
	</head>
	
	<body>
		<canvas id="canvas" width="1500" height="800" />

		<script type="text/javascript" >


			
			var context = document.getElementById('canvas').getContext('2d');
			var random = 0;

			var langeTekst = [

				['M', false], // 1
				['A', false], // 1
				['V', false], // 2
				['I', false], // 3
				['S', false], // 4
				['M', false], // 5
				['V', false], // 6
				['M', 240],   // 7 == nieuwe regel bij 240
				['M', false], // 1
				['M', false], // 2
				['M', false], // 3
				['M', false], // 4
				['M', false], // 5
				['M', false], // 6
				['M', 480],   // 7 == nieuwe regel! +240 = 480
				['M', false], // 1
				['M', false], // 2
				['M', false], // 3
				['M', false], // 4
				['M', false], // 5
				['M', false], // 6
			];
			// Rest de standaard tekst
			var langeTekst = new Array(); 

			var draw = function () {
				random += 0.001;
				if( random > 1.0 ){
					random = 0.0;
				}

				context.strokeStyle = 'rgb( 0, 0, 0 )';
			 	context.lineWidth = 10.0;

				// maak het scherm schoon
				context.clearRect( 0, 0, context.canvas.width, context.canvas.height );
				// onthoudt de positie van het assenstelsel
				context.save();

				context.translate( 0, 0 );

				langeTekst.forEach(function(letterItem) {
					drawCharacter(letterItem[0]);

					if(letterItem[1] !== false) {
						context.setTransform(1, 0, 0, 1, 0, 0);
						context.translate( 0, letterItem[1]);
					} else {
						context.translate( 200, 0 );
					}
				})

				context.restore();

			}
			drawCharacter = function( character ){

				// elke letter heeft zijn eigen functie
				switch( character ){
					case 'A':
						drawA(50, 50, 0.5);
						break;
					case 'M':
						drawM(50, 50);
						break;
					case 'K':
						drawK(50,50);
						break;
					case 'U':
						drawU(50,50);
						break
					case 'S':
						drawS(50,50);
						break;
					case 'V':
						drawV(50,50);
						break;
					case 'I':
						drawI(50,50);
						break;
					default:
						drawM(50,50);
						break;
				}
			}

			drawLine = function( p1x, p1y, p2x, p2y, subdivision ){
			 	var ctx = document.getElementById('canvas').getContext('2d');
			 	var rx = p1x;
			 	var ry = p1y;

			 	ctx.mite = 'round';
			 	ctx.beginPath();
			 	ctx.moveTo( p1x, p1y );

			 	var n = subdivision;
			 	for( var i = 0; i < n; i++ ){
			 		var f = 0.2 + ( i / ( n - 1 ) ) * 0.8;

			 		rx += ( Math.random() - 0.5 ) * random * 390.0;
			 		ry += ( Math.random() - 0.5 ) * random * 390.0;

			 		rx = ( 1.0 - f ) * rx + f * p2x;
			 		ry = ( 1.0 - f ) * ry + f * p2y;

				 	ctx.lineTo( rx, ry );
			 	}
			 	ctx.stroke();
			 }



			 // var drawA = function( x, y, factor ){
			 // 	if(undefined === factor) {
			 // 		factor = 1
			 // 	}
			 // 	drawLine( (0 + x) 	* factor, (225 + y) * factor, (70 + x) 	* factor, (0 + y) 	* factor, 8 );
				// drawLine( (70 + x) 	* factor, (0 + y) 	* factor, (150 + x) 	* factor, (225 + y) * factor, 8 );
				// drawLine( (45 + x) 	* factor, (115 + y) 	* factor, (100 + x) 	* factor, (125 + y) * factor, 8 );
			 // }




			 var drawM = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}
			 	drawLine( (0 + x) * factor, (225 + y) * factor, (0 + x) * factor, (0 + y) * factor, 8 );
				drawLine( (0 + x) * factor, (0 + y) * factor, (75 + x) * factor, (150 + y) * factor, 8 );
			 	drawLine( (75 + x) * factor, (150 + y) * factor, (150 + x) * factor, (0 + y) * factor, 8 );
			 	drawLine( (150 + x) * factor, (0 + y) * factor, (150 + x) * factor, (225 + y) * factor, 8 );
			 }

			 drawI = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}
			 	drawLine( (0 + x) * factor, (0 + y) * factor, (150 + x) * factor, (0 + y) * factor, 8 );
			 	drawLine( (75 + x) * factor, (0 + y) * factor, (75 + x) * factor, (225 + y) * factor, 8 );
			 	drawLine( (0 + x) * factor, (225 + y) * factor, (150 + x) * factor, (225 + y) * factor, 8 );
			 }

			 drawV = function( x, y ){
			 	drawLine( 0 + x, 0 + y, 100 + x, 225 + y, 8 );
			 	drawLine( 100 + x, 225 + y, 175 + x, 0 + y, 8 );

			 }
			 drawS= function( x, y ){
			 	// drawLine( 150 + x, 60 + y, 135 + x, 15 + y, 8 );
			 	drawLine( 135 + x, 15 + y, 55 + x, 0 + y, 8 );
			 	drawLine( 55 + x, 0 + y, 0 + x, 25 + y, 8 );

			 	drawLine( 0 + x, 25 + y, 0 + x, 75 + y, 8 );
			 	drawLine( 0 + x, 75 + y, 150 + x, 128 + y, 8 );
			 	drawLine( 150 + x, 128 + y, 150 + x, 195 + y, 8 );
			 	drawLine( 150 + x, 195 + y, 70 + x, 225 + y, 8 );
			 	drawLine( 70 + x, 225 + y, 0 + x, 198 + y, 8 );

			 }


			 var drawA = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}
			 	drawLine( (0 + x) 	* factor, (225 + y)  	* factor, (70 + x) 		* factor, (0 + y) 	* factor, 8 );
				drawLine( (70 + x) 	* factor, (0 + y) 	 	* factor, (150 + x) 	* factor, (225 + y) * factor, 8 );
				drawLine( (45 + x) 	* factor, (115 + y) 	* factor, (100 + x) 	* factor, (115 + y) * factor, 8 );
			 }



			 var drawB = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}
			 	drawLine( (0 + x) 	* factor, (225 + y) * factor, (0 + x) 	* factor, (0 + y) 	* factor, 8 );
				drawLine( (0 + x) 	* factor, (0 + y) 	* factor, (115 + x) 	* factor, (0 + y) * factor, 8 );
				drawLine( (115 + x) 	* factor, (0 + y) 	* factor, (145 + x) 	* factor, (55 + y) * factor, 8 );
				drawLine( (145 + x) 	* factor, (55 + y) 	* factor, (115 + x) 	* factor, (115 + y) * factor, 8 );
				drawLine( (115 + x) 	* factor, (115 + y) 	* factor, (145 + x) 	* factor, (165 + y) * factor, 8 );
				drawLine( (145 + x) 	* factor, (165 + y) 	* factor, (110 + x) 	* factor, (225+ y) * factor, 8 );
				drawLine( (110 + x) 	* factor, (225 + y) 	* factor, (0 + x) 	* factor, (225 + y) * factor, 8 );
				drawLine( (0 + x) 	* factor, (115 + y) 	* factor, (115 + x) 	* factor, (115 + y) * factor, 8 );

			 }


			 var drawC = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}
			 	drawLine( (150 + x) 	* factor, (225 + y)  	* factor, (60 + x) 		* factor, (225 + y) 	* factor, 8 );
				drawLine( (60 + x) 	* factor, (225 + y) 	 	* factor, (0 + x) 	* factor, (112 + y) * factor, 8 );
				drawLine( (0 + x) 	* factor, (112 + y) 	* factor, (60 + x) 	* factor, (0 + y) * factor, 8 );
				drawLine( (60 + x) 	* factor, (0 + y) 	* factor, (150 + x) 	* factor, (0 + y) * factor, 8 );

			 }





			 var drawD = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}
			 	drawLine( (0 + x) 	* factor, (0 + y)  	* factor, (90 + x) 		* factor, (0 + y) 	* factor, 8 );
				drawLine( (90 + x) 	* factor, (0 + y) 	 	* factor, (150 + x) 	* factor, (100 + y) * factor, 8 );
				drawLine( (150 + x) 	* factor, (100 + y) 	 	* factor, (90 + x) 	* factor, (225 + y) * factor, 8 );
				drawLine( (90 + x) 	* factor, (225 + y) 	 	* factor, (0 + x) 	* factor, (225 + y) * factor, 8 );
						drawLine( (0 + x) 	* factor, (225 + y) 	 	* factor, (0 + x) 	* factor, (0 + y) * factor, 8 );
		

			 }




			 var drawE = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}
			 	drawLine( (0 + x) 	* factor, (0 + y)  	* factor, (0 + x) 		* factor, (225 + y) 	* factor, 8 );
				drawLine( (0 + x) 	* factor, (0 + y) 	 	* factor, (150 + x) 	* factor, (0 + y) * factor, 8 );
				drawLine( (0 + x) 	* factor, (112 + y) 	 	* factor, (150 + x) 	* factor, (112 + y) * factor, 8 );
				drawLine( (0 + x) 	* factor, (225 + y) 	 	* factor, (150 + x) 	* factor, (225 + y) * factor, 8 );
		

			 }




			 var drawF = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}
			 	drawLine( (0 + x) 	* factor, (0 + y)  	* factor, (0 + x) 		* factor, (225 + y) 	* factor, 8 );
				drawLine( (0 + x) 	* factor, (0 + y) 	 	* factor, (150 + x) 	* factor, (0 + y) * factor, 8 );
				drawLine( (0 + x) 	* factor, (112 + y) 	 	* factor, (150 + x) 	* factor, (112 + y) * factor, 8 );
		

			 }




			 var drawG = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}
			 	drawLine( (150 + x) 	* factor, (112 + y)  	* factor, (150 + x) 		* factor, (225 + y) 	* factor, 8 );		 
			 	drawLine( (150 + x) 	* factor, (225 + y)  	* factor, (60 + x) 		* factor, (225 + y) 	* factor, 8 );
				drawLine( (60 + x) 	* factor, (225 + y) 	 	* factor, (0 + x) 	* factor, (112 + y) * factor, 8 );
				drawLine( (0 + x) 	* factor, (112 + y) 	* factor, (60 + x) 	* factor, (0 + y) * factor, 8 );
				drawLine( (60 + x) 	* factor, (0 + y) 	* factor, (150 + x) 	* factor, (0 + y) * factor, 8 );

			 }





			 var drawH = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}

				drawLine( (0 + x) 	* factor, (0 + y)  	* factor, (0 + x) 		* factor, (225 + y) 	* factor, 8 );
				drawLine( (0 + x) 	* factor, (112 + y) 	 	* factor, (150 + x) 	* factor, (112 + y) * factor, 8 );
				drawLine( (150 + x) 	* factor, (225 + y) 	 	* factor, (150 + x) 	* factor, (0 + y) * factor, 8 );
		

			 }



			 var drawJ = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}
				drawLine( (150 + x) 	* factor, (0 + y)  	* factor, (150 + x) 		* factor, (225 + y) 	* factor, 8 );		 
			 	drawLine( (150 + x) 	* factor, (225 + y)  	* factor, (60 + x) 		* factor, (225 + y) 	* factor, 8 );
				drawLine( (60 + x) 	* factor, (225 + y) 	 	* factor, (30 + x) 	* factor, (165 + y) * factor, 8 );
	
			 }




			 var drawJ = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}
				drawLine( (150 + x) 	* factor, (0 + y)  	* factor, (150 + x) 		* factor, (225 + y) 	* factor, 8 );		 
			 	drawLine( (150 + x) 	* factor, (225 + y)  	* factor, (60 + x) 		* factor, (225 + y) 	* factor, 8 );
				drawLine( (60 + x) 	* factor, (225 + y) 	 	* factor, (30 + x) 	* factor, (165 + y) * factor, 8 );
		

			 }		





			 var drawK = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}
				drawLine( (0 + x) 	* factor, (0 + y)  	* factor, (0+ x) 		* factor, (225 + y) 	* factor, 8 );		 
			 	drawLine( (150 + x) 	* factor, (0 + y)  	* factor, (0 + x) 		* factor, (100 + y) 	* factor, 8 );
			 	drawLine( (0 + x) 	* factor, (100 + y)  	* factor, (150 + x) 		* factor, (225+ y) 	* factor, 8 );


			 }		



			 var drawL = function( x, y, factor ){
			 	if(undefined === factor) {
			 		factor = 1
			 	}
				drawLine( (0 + x) 	* factor, (0 + y)  	* factor, (0+ x) 		* factor, (225 + y) 	* factor, 8 );		 
			 	drawLine( (0 + x) 	* factor, (225 + y)  	* factor, (150 + x) 		* factor, (225 + y) 	* factor, 8 );
			 	drawLine( (0 + x) 	* factor, (100 + y)  	* factor, (150 + x) 		* factor, (225+ y) 	* factor, 8 );


			 }		

			
			const MAX_AANTAL_LETTERS = 9; // per regel
			const HOOGTE_PER_REGEL   = 240;
			
			$( document ).on( 'keydown', function(event) {
				var pressedKeyChar = String.fromCharCode( event.keyCode );


				var resetCounter = 0;
				var lastLineOffset = 0;

				var boolNewLine = false;

				for(var i = 0; i <= langeTekst.length; i++) {
					resetCounter++;
					if(resetCounter == MAX_AANTAL_LETTERS) {
						boolNewLine = true;
						resetCounter = 0;

						lastLineOffset += HOOGTE_PER_REGEL;
					} else {
						boolNewLine = false;
					}
					
				}
				if(boolNewLine) {
					langeTekst.push([pressedKeyChar, lastLineOffset]);
				} else {
					langeTekst.push([pressedKeyChar, false]);
				}


				draw(true)
				// console.log(langeTekst);
			} );

			setInterval(function() {
				draw(false)
			}, 200);
			// draw(false);
	   </script>
	</body>
</html>